## 手机猪八戒前端开发示例
#### 第一步：安装jello
###### 手机端项目使用jello 配合java开发，这里移步[jello开发文档](https://github.com/fex-team/jello)
1. 安装jello 
	* 这里假定已经安装完成node和java 
	
```
npm install lights -g
npm install jello -g
jello -v
```
如果安装成功，现在应该可以看到jello的版本信息
#### 第二步：构建项目
* jello 项目一般由以下目录结构
```
workspace--
		  |--page 页面级别的文件
		  |--static 静态资源
			  |--css 页面级别样式文件
			  |--js 页面级别js文件
			  |--image 页面级别图片资源
		  |--test 模拟数据
		  |--widget 模块级别的文件
		  |--fis-conf.js 配置文件(具体信息查看文档)
		  |--server.conf 路由表（用于指定模拟数据与页面文件的绑定关系，具体信息查看文档）
```
#### 第三步：建立页面文件
1. 根据业务需求，在page中建立相应的页面文件
2. 如果有相同的部分，可以制作一个layout.vm的页面级vm，然后继承它
3. 在static下的js和css的同路径的地方写入相应的less文件和js文件
4. 在页面中require相应的less和js(需要注意js的引入先后顺序)
#### 第四步：widget组件
1. 如果有多个页面具有相同的地方可以考虑制作widget组件
2. 在widget中建立组件文件夹，里面根据需要分别包含vm，js，less以及放置图片的image文件夹
3. 在weidget中会同名加载相应的less，但是js需要手动require引入
4. 然后可以在需要的页面基本文件中引入该widget.如：
```
#widget("/widget/content/content.vm")
```
#### 第五步：模拟数据
* 使用同步渲染数据
	1. 在test目录下建立与页面级别相同的同名json文件，并在其中书写模拟数据
	2. 在 server.conf中绑定路由和页面路径
	3. 在需要使用的地方使用变量名可以获取到该变量(如：$!name)
	4. 在哪个页面引用了widget，该widget也会获取本页面的数据
```
rewrite /demo /page/index/index.vm
```
* 异步渲染数据
	1. 在 test下建立文件夹存放异步数据
	2. 建立一个异步json文件存放数据
	3. 在server.conf中绑定url和json文件
	4. 	即可使用ajax访问该url获取数据 	
```
rewrite /index /test/json/index.json
``` 
#### 第六步：发布浏览
1. 项目构建完成之后使用`jello server start`命令打开jello服务（默认启用8080端口）
2. `jello release` 发布`jello release -cw`可以监听改动实时发布
3. 当发布完成之后在浏览器输入`127.0.0.1:8080/`后面跟server.conf配置的地址即可浏览
4. 如果使用本例中的demo发布后请输入<http://127.0.0.1:8080/demo> 浏览
 
 ------
#### 以上为手机端jello开发的一般流程，在示例项目中皆有展示，如果有不明白的地方可以查看[jello开发文档](https://github.com/fex-team/jello)并结合示例了解  

----
## 反馈与建议
**如果开发文档有不完善的地方，可以反馈给我们进行修正**  
* 邮箱：<zhouxuan@zbj.com> 
